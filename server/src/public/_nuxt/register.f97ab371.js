import{a as w,b as y,r as l,e as i,f as e,C as m,u as t,t as x,h as k,w as S,i as _,v as u,j as h,D as C,G as I,H as R,o as d,I as V,k as N}from"./entry.e6195af8.js";const T={class:"container-fluid"},B={class:"row"},E={class:"d-none d-md-block col-12 col-md-4 col-lg-6 bg-dark text-light"},L={class:"d-flex justify-content-center align-items-center h-100"},j={class:"display-1"},D={class:"col-12 col-md-8 col-lg-6 bg-light text-dark min-vh-100"},M={class:"text-center mx-md-5"},P=e("h1",{class:"mt-5 display-1"},"Register",-1),U=e("p",null,"Welcome to the object management web app",-1),q={key:0,class:"alert alert-danger mt-5 text-start",role:"alert"},G=["onSubmit"],A={class:"form-floating mb-3"},H=e("label",{for:"emailInput"},"Email address",-1),O={class:"form-floating mb-3"},W=e("label",{for:"passwordInput"},"Password",-1),$={class:"d-grid"},z={type:"submit",class:"btn btn-primary"},F={key:0,class:"spinner-border text-light",role:"status",style:{width:"1rem",height:"1rem"}},J=e("span",{class:"visually-hidden"},"Loading...",-1),K=[J],Q={key:1},X=e("span",{class:"me-2"},"Already a member?",-1),ee=w({__name:"register",setup(Y){const p=y(),s=l(""),o=l(""),c=l(!1),a=l(null),f=async()=>{try{a.value=null,c.value=!0,await $fetch("/auth/register",{baseURL:p.public.apiBase,method:"POST",body:{username:s.value,password:o.value}}),await N("/login")}catch{a.value="Something went wrong."}finally{c.value=!1}};return(g,n)=>{const v=R("font-awesome-icon"),b=I;return d(),i("div",T,[e("div",B,[e("div",E,[e("div",L,[e("h1",j,[m(v,{icon:"fa-solid fa-right-to-bracket"})])])]),e("div",D,[e("div",M,[P,U,t(a)?(d(),i("div",q,x(t(a)),1)):k("",!0),e("form",{onSubmit:S(f,["prevent"]),class:"my-5"},[e("div",A,[_(e("input",{type:"email",class:"form-control",id:"emailInput",placeholder:"name@example.com",required:"","onUpdate:modelValue":n[0]||(n[0]=r=>h(s)?s.value=r:null)},null,512),[[u,t(s)]]),H]),e("div",O,[_(e("input",{type:"password",class:"form-control",id:"passwordInput",placeholder:"Password",required:"","onUpdate:modelValue":n[1]||(n[1]=r=>h(o)?o.value=r:null)},null,512),[[u,t(o)]]),W]),e("div",$,[e("button",z,[t(c)?(d(),i("div",F,K)):(d(),i("span",Q,"REGISTER"))])])],40,G),e("div",null,[X,m(b,{to:"/login"},{default:C(()=>[V("Login")]),_:1})])])])])])}}});export{ee as default};
