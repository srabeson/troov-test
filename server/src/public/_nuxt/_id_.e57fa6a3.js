import{a as b,b as g,l as y,r as i,e as l,f as e,u as t,t as x,h as w,w as k,i as u,v as m,j as _,o as r,k as S}from"./entry.02760955.js";const I={class:"container"},B={class:"row"},D={class:"col-12"},R=e("h1",{class:"mt-5 display-1 textcenter"},"Edit object",-1),T={key:0,class:"alert alert-danger mt-5 text-start",role:"alert"},V=["onSubmit"],j={class:"form-floating mb-3"},C=e("label",{for:"nameInput"},"Name",-1),E={class:"form-floating mb-3"},M=e("label",{for:"descriptionInput"},"Description",-1),N={class:"d-grid"},U={type:"submit",class:"btn btn-primary"},q={key:0,class:"spinner-border text-light",role:"status",style:{width:"1rem",height:"1rem"}},L=e("span",{class:"visually-hidden"},"Loading...",-1),$=[L],z={key:1},A=b({__name:"[id]",setup(O){const p=g(),h=y(),s=i(""),o=i(""),c=i(!1),a=i(null),f=async()=>{try{a.value=null,c.value=!0,await $fetch("/api/edit",{method:"POST",body:{id:h.params.id,name:s.value,description:o.value},headers:{authorization:`Bearer ${localStorage.getItem("access_token")}`},baseURL:p.public.apiBase}),await S("/")}catch{a.value="Something went wrong."}finally{c.value=!1}};return(v,n)=>(r(),l("div",I,[e("div",B,[e("div",D,[R,t(a)?(r(),l("div",T,x(t(a)),1)):w("",!0),e("form",{onSubmit:k(f,["prevent"]),class:"mt-5"},[e("div",j,[u(e("input",{type:"text",class:"form-control",id:"nameInput",placeholder:"name@example.com",required:"","onUpdate:modelValue":n[0]||(n[0]=d=>_(s)?s.value=d:null)},null,512),[[m,t(s)]]),C]),e("div",E,[u(e("textarea",{class:"form-control",placeholder:"Describe the object",id:"descriptionInput",style:{height:"128px"},required:"","onUpdate:modelValue":n[1]||(n[1]=d=>_(o)?o.value=d:null)},null,512),[[m,t(o)]]),M]),e("div",N,[e("button",U,[t(c)?(r(),l("div",q,$)):(r(),l("span",z,"EDIT"))])])],40,V)])])]))}});export{A as default};
