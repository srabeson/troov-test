import{a as w,b as y,r as l,e as i,f as e,D as _,u as t,t as x,h as k,w as S,i as u,v as p,j as h,E as I,H as R,I as V,o as c,J as C,k as E}from"./entry.02760955.js";const N={class:"container-fluid"},T={class:"row"},B={class:"d-none d-md-block col-12 col-md-4 col-lg-6 bg-dark text-light"},L={class:"d-flex justify-content-center align-items-center h-100"},j={class:"display-1"},D={class:"col-12 col-md-8 col-lg-6 bg-light text-dark min-vh-100"},M={class:"text-center mx-md-5"},P=e("h1",{class:"mt-5 display-1"},"Register",-1),U=e("p",null,"Welcome to the object management web app",-1),q={key:0,class:"alert alert-danger mt-5 text-start",role:"alert"},A=["onSubmit"],G={class:"form-floating mb-3"},H=e("label",{for:"emailInput"},"Email address",-1),J={class:"form-floating mb-3"},O=e("label",{for:"passwordInput"},"Password",-1),W={class:"d-grid"},$={type:"submit",class:"btn btn-primary"},z={key:0,class:"spinner-border text-light",role:"status",style:{width:"1rem",height:"1rem"}},F=e("span",{class:"visually-hidden"},"Loading...",-1),K=[F],Q={key:1},X=e("span",{class:"me-2"},"Already a member?",-1),ee=w({__name:"register",setup(Y){const f=y(),s=l(""),o=l(""),d=l(!1),a=l(null),g=async()=>{try{a.value=null,d.value=!0;const m=await $fetch("/auth/register",{baseURL:f.public.apiBase,method:"POST",body:{username:s.value,password:o.value}});await E("/login")}catch{a.value="Something went wrong."}finally{d.value=!1}};return(m,n)=>{const v=V("font-awesome-icon"),b=R;return c(),i("div",N,[e("div",T,[e("div",B,[e("div",L,[e("h1",j,[_(v,{icon:"fa-solid fa-right-to-bracket"})])])]),e("div",D,[e("div",M,[P,U,t(a)?(c(),i("div",q,x(t(a)),1)):k("",!0),e("form",{onSubmit:S(g,["prevent"]),class:"my-5"},[e("div",G,[u(e("input",{type:"email",class:"form-control",id:"emailInput",placeholder:"name@example.com",required:"","onUpdate:modelValue":n[0]||(n[0]=r=>h(s)?s.value=r:null)},null,512),[[p,t(s)]]),H]),e("div",J,[u(e("input",{type:"password",class:"form-control",id:"passwordInput",placeholder:"Password",required:"","onUpdate:modelValue":n[1]||(n[1]=r=>h(o)?o.value=r:null)},null,512),[[p,t(o)]]),O]),e("div",W,[e("button",$,[t(d)?(c(),i("div",z,K)):(c(),i("span",Q,"REGISTER"))])])],40,A),e("div",null,[X,_(b,{to:"/login"},{default:I(()=>[C("Login")]),_:1})])])])])])}}});export{ee as default};
