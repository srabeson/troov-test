import{a as b,b as y,m as v,r as x,e as n,f as e,C as s,D as _,F as k,E as w,u as C,G as B,H as $,o as c,t as p}from"./entry.e6195af8.js";import{u as S}from"./fetch.2f6600f4.js";const L={class:"container-fluid"},D={class:"row"},E={class:"col-12 py-3"},F={class:"d-grid gap-3"},N=e("span",{class:"ms-3"},"Add Object",-1),R={class:"card-header"},q={class:"card-body"},z={class:"card-text"},A={class:"d-flex gap-2"},G=["onClick"],V=b({__name:"index",async setup(I){let a,i;const r=y(),{data:h,refresh:u}=([a,i]=v(()=>S("/api",{method:"GET",headers:{authorization:`Bearer ${localStorage.getItem("access_token")}`},baseURL:r.public.apiBase,initialCache:!1},"$pqtWcjQkdb")),a=await a,i(),a),m=x(null),f=async d=>{try{await $fetch("/api/delete",{method:"POST",body:{id:d},headers:{authorization:`Bearer ${localStorage.getItem("access_token")}`},baseURL:r.public.apiBase}),u()}catch{m.value="Something went wrong."}};return(d,g)=>{const o=$("font-awesome-icon"),l=B;return c(),n("div",L,[e("div",D,[e("div",E,[e("div",F,[s(l,{to:"/create",class:"btn btn-primary"},{default:_(()=>[s(o,{icon:"fa-solid fa-plus"}),N]),_:1}),(c(!0),n(k,null,w(C(h),t=>(c(),n("div",{key:t._id,class:"card"},[e("h5",R,p(t.name),1),e("div",q,[e("p",z,p(t.description),1),e("div",A,[s(l,{to:`/edit/${t._id}`,type:"button",class:"btn btn-light"},{default:_(()=>[s(o,{icon:"fa-solid fa-pen-to-square"})]),_:2},1032,["to"]),e("button",{onClick:O=>f(t._id),type:"button",class:"btn btn-light text-danger"},[s(o,{icon:"fa-solid fa-trash"})],8,G)])])]))),128))])])])])}}});export{V as default};
